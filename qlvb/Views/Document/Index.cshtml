@model PagedList.IPagedList<qlvb.Models.document>
@using PagedList.Mvc; 
@{
    ViewBag.Title = "Create";
    Layout = "~/Views/Shared/_LayoutAdmin.cshtml";
}
<div id="tf-services">
<div class="container">
<div style="width:100%;padding-top:30px;">
    <input type="text" class="form-control" placeholder="Từ khóa" id="word" name="word" value="@ViewBag.word" style="width:60%;display:block;float:left;position:relative;" onkeyup="autosearch();">
    <input type="button" value="tìm kiếm" onclick="search();" class="btn btn-primary tf-btn color" style="display:block;float:left;position:relative;"/>
</div>
<div style="width:100%;padding-top:30px;">
    <h3>Loại Văn Bản</h3>
    <p>
        <img src="/Images/create.png">@Html.ActionLink("Thêm Mới", "Create")
    </p>
</div>
<table class="table">
    <tr>
        <th>
            Ký hiệu
        </th>
        <th>
            Tên văn bản
        </th>
        <th></th>
    </tr>

@foreach (var item in Model) {
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.code)
        </td>
        <td align="left">
            @Html.DisplayFor(modelItem => item.name)
        </td>
        <td>
            @Html.ActionLink("Sửa", "Create", new { id=item.id }) |            
            @Html.ActionLink("Xóa", "Delete", new { id=item.id })
        </td>
    </tr>
}
</table>
 <div>Trang:
@for (int i = 1; i <= Model.PageCount; i++){
                                        <a href="/Document?word=@ViewBag.word&page=@i" style="cursor:pointer;">@i,</a>
                                    }
</div>
</div>
</div>
<script>
    function search() {
        var word = document.getElementById("word").value;
        window.location.href = "/Document/Index?page=1&word=" + word;
    }
    function autosearch() {
        var keyword = document.getElementById("word").value;
        urlSearch = '/Document/getDoc?keyword=';
        $('#word').autocomplete({
            source: urlSearch + keyword,
            select: function (event, ui) {
                $(event.target).val(ui.item.value);
                search();
                return false;
            },
            minLength: 1
        });
    }
</script>
